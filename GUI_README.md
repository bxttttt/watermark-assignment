# 图片水印工具 GUI 版本

## 🎯 功能概述

这是一个功能完整的图片水印工具桌面应用程序，支持文本和图片水印，具有直观的图形用户界面。

## ✨ 主要功能

### 1. 文件处理
- **导入图片**: 支持单张图片拖拽或通过文件选择器导入
- **批量导入**: 可一次性选择多张图片或直接导入整个文件夹
- **图片列表**: 在界面上显示已导入图片的列表（缩略图和文件名）
- **支持格式**: JPEG, PNG, BMP, TIFF (支持PNG透明通道)

### 2. 水印类型

#### 文本水印
- **自定义内容**: 用户可输入任意文本
- **字体设置**: 可选择字体、字号、粗体、斜体
- **颜色选择**: 提供调色板选择字体颜色
- **透明度**: 可调节文本透明度 (0-100%)
- **样式效果**: 支持阴影和描边效果，增强可读性

#### 图片水印
- **本地图片**: 可从本地选择图片作为水印
- **透明支持**: 支持带透明通道的PNG图片
- **缩放调整**: 可按比例调整图片水印大小
- **透明度**: 可调节图片水印透明度 (0-100%)

### 3. 水印布局与样式
- **实时预览**: 所有调整都在主预览窗口中实时显示
- **位置控制**: 提供九宫格布局和手动拖拽定位
- **旋转功能**: 支持任意角度旋转水印

### 4. 输出设置
- **格式选择**: 用户可选择输出为JPEG或PNG
- **质量调节**: JPEG格式提供质量调节滑块 (0-100)
- **尺寸调整**: 支持按比例缩放图片
- **文件命名**: 支持自定义前缀和后缀

### 5. 模板管理
- **保存模板**: 可将当前设置保存为模板
- **加载模板**: 可加载、管理和删除已保存的模板
- **自动加载**: 程序启动时可自动加载上次设置

## 🚀 使用方法

### 系统要求
- Java 11 或更高版本
- JavaFX 运行时环境

### 启动方式

#### macOS/Linux
```bash
# 方法1: 使用启动脚本
./start-gui.sh

# 方法2: 直接运行JAR文件
java --module-path /path/to/javafx/lib --add-modules javafx.controls,javafx.fxml,javafx.swing -jar target/image-watermark-1.0.0.jar
```

#### Windows
```cmd
REM 方法1: 使用批处理文件
start-gui.bat

REM 方法2: 直接运行JAR文件
java --module-path "C:\Program Files\Java\javafx-21\lib" --add-modules javafx.controls,javafx.fxml,javafx.swing -jar target\image-watermark-1.0.0.jar
```

### 操作步骤

1. **导入图片**
   - 点击"添加文件"按钮选择单张或多张图片
   - 点击"添加文件夹"按钮导入整个文件夹
   - 或直接将图片拖拽到应用程序窗口

2. **设置水印**
   - 选择"文本水印"或"图片水印"标签页
   - 配置水印的样式、颜色、透明度等参数
   - 在预览窗口中查看效果

3. **调整位置**
   - 使用右侧设置面板调整水印位置
   - 实时预览窗口中查看效果

4. **配置输出**
   - 在"输出设置"标签页中选择输出格式
   - 设置JPEG质量（如适用）
   - 选择是否保持宽高比

5. **导出图片**
   - 选择要导出的图片（可使用"全选"或单独选择）
   - 点击"导出图片"按钮
   - 选择输出文件夹
   - 等待处理完成

## 🎨 界面说明

### 左侧面板 - 文件管理
- 显示已导入的图片列表
- 每个图片显示缩略图、文件名和处理状态
- 提供选择框控制是否导出该图片

### 中心面板 - 预览
- 显示当前选中图片的水印预览效果
- 实时更新水印设置变化

### 右侧面板 - 设置
- **文本水印**: 文本内容、字体、颜色、样式设置
- **图片水印**: 水印图片选择、缩放、透明度设置
- **输出设置**: 输出格式、质量、缩放设置
- **模板管理**: 保存、加载、删除水印模板

### 底部面板 - 操作
- 刷新预览按钮
- 导出图片按钮
- 进度条和状态显示

## 🔧 高级功能

### 模板系统
1. **保存模板**: 在模板管理页面输入模板名称和描述，点击"保存模板"
2. **加载模板**: 从下拉列表中选择已保存的模板
3. **删除模板**: 选择模板后点击"删除模板"按钮

### 批量处理
- 支持同时处理多张图片
- 可选择部分图片进行导出
- 显示处理进度和状态

### 文件命名
- 自动添加"_watermarked"后缀
- 保持原始文件格式或转换为指定格式

## 📁 项目结构

```
src/main/java/com/watermark/gui/
├── WatermarkApplication.java          # 主应用程序入口
├── controller/
│   ├── MainController.java           # 主界面控制器
│   ├── ImageFileListCell.java        # 图片列表单元格
│   └── TemplateListCell.java         # 模板列表单元格
├── model/
│   ├── WatermarkSettings.java        # 水印设置数据模型
│   ├── ImageFile.java               # 图片文件数据模型
│   └── Template.java                # 模板数据模型
└── service/
    ├── ImageProcessingService.java   # 图片处理服务
    └── TemplateService.java          # 模板管理服务
```

## 🐛 故障排除

### 常见问题

1. **JavaFX模块错误**
   - 确保安装了JavaFX运行时
   - 检查module-path参数是否正确

2. **图片加载失败**
   - 检查图片文件是否损坏
   - 确认支持的图片格式

3. **导出失败**
   - 检查输出文件夹权限
   - 确保磁盘空间充足

4. **模板保存失败**
   - 检查用户目录权限
   - 确保模板名称不为空

### 技术支持

如有问题或建议，请通过以下方式联系：
- GitHub Issues: [项目Issues页面]
- 项目主页: [GitHub仓库地址]

## 📝 更新日志

### v1.0 (2025-09-30)
- 初始GUI版本发布
- 支持文本和图片水印
- 完整的模板管理系统
- 实时预览功能
- 批量处理支持
- 多平台启动脚本

---

**图片水印工具 GUI v1.0** - 让图片水印变得简单而强大 🖼️✨
